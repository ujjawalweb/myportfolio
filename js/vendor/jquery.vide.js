!function(e,t,i,o){"use strict";function s(e){var t,i,o,s,n,r,p,a={};for(n=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",").split(","),p=0,r=n.length;r>p&&(i=n[p],-1===i.search(/^(http|https|ftp):\/\//)&&-1!==i.search(":"));p++)t=i.indexOf(":"),o=i.substring(0,t),s=i.substring(t+1),s||(s=void 0),"string"==typeof s&&(s="true"===s||("false"===s?!1:s)),"string"==typeof s&&(s=isNaN(s)?s:+s),a[o]=s;return null==o&&null==s?e:a}function n(e){e=""+e;var t,i,o,s=e.split(/\s+/),n="50%",r="50%";for(o=0,t=s.length;t>o;o++)i=s[o],"left"===i?n="0%":"right"===i?n="100%":"top"===i?r="0%":"bottom"===i?r="100%":"center"===i?0===o?n="50%":r="50%":0===o?n=i:r=i;return{x:n,y:r}}function r(t,i){var o=function(){i(this.src)};e('<img src="'+t+'.gif">').load(o),e('<img src="'+t+'.jpg">').load(o),e('<img src="'+t+'.jpeg">').load(o),e('<img src="'+t+'.png">').load(o)}function p(e){e.$video.prop({autoplay:e.settings.autoplay,loop:e.settings.loop,volume:e.settings.volume,muted:e.settings.muted,playbackRate:e.settings.playbackRate})}function a(t,i,o){if(this.$element=e(t),"string"==typeof i&&(i=s(i)),o?"string"==typeof o&&(o=s(o)):o={},"string"==typeof i)i=i.replace(/\.\w*$/,"");else if("object"==typeof i)for(var n in i)i.hasOwnProperty(n)&&(i[n]=i[n].replace(/\.\w*$/,""));this.settings=e.extend({},c,o),this.path=i,this.init()}var d="vide",c={volume:1,playbackRate:1,muted:!0,loop:!0,autoplay:!0,position:"50% 50%",posterType:"detect",resizing:!0},h=/iPad|iPhone|iPod/i.test(o.userAgent),u=/Android/i.test(o.userAgent);a.prototype.init=function(){var t,i,o=this,s=n(o.settings.position);o.$wrapper=e("<div>").css({position:"absolute","z-index":-1,top:0,left:0,bottom:0,right:0,overflow:"hidden","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover","background-repeat":"no-repeat","background-position":s.x+" "+s.y}),i=o.path,"object"==typeof o.path&&(o.path.poster?i=o.path.poster:o.path.mp4?i=o.path.mp4:o.path.webm?i=o.path.webm:o.path.ogv&&(i=o.path.ogv)),"detect"===o.settings.posterType?r(i,function(e){o.$wrapper.css("background-image","url("+e+")")}):"none"!==o.settings.posterType&&o.$wrapper.css("background-image","url("+i+"."+o.settings.posterType+")"),"static"===o.$element.css("position")&&o.$element.css("position","relative"),o.$element.prepend(o.$wrapper),h||u||(t="","object"==typeof o.path?(o.path.mp4&&(t+='<source src="'+o.path.mp4+'.mp4" type="video/mp4">'),o.path.webm&&(t+='<source src="'+o.path.webm+'.webm" type="video/webm">'),o.path.ogv&&(t+='<source src="'+o.path.ogv+'.ogv" type="video/ogv">'),o.$video=e("<video>"+t+"</video>")):o.$video=e('<video><source src="'+o.path+'.mp4" type="video/mp4"><source src="'+o.path+'.webm" type="video/webm"><source src="'+o.path+'.ogv" type="video/ogg"></video>'),o.$video.css("visibility","hidden"),p(o),o.$wrapper.append(o.$video),o.$video.css({margin:"auto",position:"absolute","z-index":-1,top:s.y,left:s.x,"-webkit-transform":"translate(-"+s.x+", -"+s.y+")","-ms-transform":"translate(-"+s.x+", -"+s.y+")",transform:"translate(-"+s.x+", -"+s.y+")"}),o.$video.on("canplaythrough."+d,function(){o.$video.css("visibility","visible"),p(o),o.settings.autoplay&&o.$video[0].play(),o.resize(),o.$wrapper.css("background-image","none")}),o.$element.on("resize."+d,function(){o.settings.resizing&&o.resize()}))},a.prototype.getVideoObject=function(){return this.$video?this.$video[0]:null},a.prototype.resize=function(){if(this.$video){var e=this.$video[0].videoHeight,t=this.$video[0].videoWidth,i=this.$wrapper.height(),o=this.$wrapper.width();o/t>i/e?this.$video.css({width:o+2,height:"auto"}):this.$video.css({width:"auto",height:i+2})}},a.prototype.destroy=function(){this.$element.off(d),this.$video&&this.$video.off(d),delete e[d].lookup[this.index],this.$element.removeData(d),this.$wrapper.remove()},e[d]={lookup:[]},e.fn[d]=function(t,i){var o;return this.each(function(){o=e.data(this,d),o&&o.destroy(),o=new a(this,t,i),o.index=e[d].lookup.push(o)-1,e.data(this,d,o)}),this},e(i).ready(function(){e(t).on("resize."+d,function(){for(var t,i=e[d].lookup.length,o=0;i>o;o++)t=e[d].lookup[o],t&&t.settings.resizing&&t.resize()}),e(i).find("[data-"+d+"-bg]").each(function(t,i){var o=e(i),s=o.data(d+"-options"),n=o.data(d+"-bg");o[d](n,s)})})}(window.jQuery,window,document,navigator);